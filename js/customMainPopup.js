function openTab(e,t){var i,n,r;for(n=document.getElementsByClassName("tabContents"),i=0;i<n.length;i++)n[i].style.display="none";for(r=document.getElementsByClassName("tabLinks"),i=0;i<r.length;i++)r[i].className=r[i].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}function firememClick(e){var t=document.getElementById(e),i=document.getElementById("firemem-plat"),n=document.getElementById("firemem-dev"),r=document.getElementById("firemem-prod");i.className="btn btn-default waves-effect waves-light",i.setAttribute("fClicked","false"),n.className="btn btn-default waves-effect waves-light",n.setAttribute("fClicked","false"),r.className="btn btn-default waves-effect waves-light",r.setAttribute("fClicked","false"),t.className="btn btn-success waves-effect waves-light",t.setAttribute("fClicked","true")}function addListener(e,t,i){e.indexOf("Tab")>=0?document.getElementById(e).addEventListener(t,function(e){openTab(e,i)}):e.indexOf("firemem-")>=0?document.getElementById(e).addEventListener(t,function(e){firememClick(i)}):e.indexOf("qc-query-")>=0?document.getElementById(e).addEventListener(t,function(t){var n=document.getElementById("qc-selected-query");n.innerText=i,n.setAttribute("queryCode",document.getElementById(e).getAttribute("queryCode")),n.style.animation="shake 0.5s",setTimeout(function(){n.style.animation=""},500);var r=document.getElementById("qc-input-1"),c=document.getElementById("qc-input-2"),o=document.getElementById("qc-input-placeholder-1"),a=document.getElementById("qc-input-placeholder-2"),d=document.getElementById("qc-errorMsg");r.disabled=!0,c.disabled=!0,"none"==queryDict[i]&&(d.innerText="Item ID required",d.style.display="block"),queryDict[i].indexOf("msa")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Mem Site Account ID",o.setAttribute("qcInpType","msa")):(c.disabled=!1,a.innerText="Mem Site Account ID",a.setAttribute("qcInpType","msa"))),queryDict[i].indexOf("cii")>=0&&(c.disabled=!1,a.innerText="Cache Item ID",a.setAttribute("qcInpType","cii"),r.disabled=!1,o.innerText="Mem Item ID",o.setAttribute("qcInpType","mii")),queryDict[i].indexOf("mii")>=0&&(c.disabled=!1,a.innerText="Cache Item ID",a.setAttribute("qcInpType","cii"),r.disabled=!1,o.innerText="Mem Item ID",o.setAttribute("qcInpType","mii")),queryDict[i].indexOf("sid")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Site ID",o.setAttribute("qcInpType","sid")):(c.disabled=!1,a.innerText="Site ID",a.setAttribute("qcInpType","sid"))),queryDict[i].indexOf("sii")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Sum Info ID",o.setAttribute("qcInpType","sii")):(c.disabled=!1,a.innerText="Sum Info ID",a.setAttribute("qcInpType","sii"))),queryDict[i].indexOf("mid")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Mem ID",o.setAttribute("qcInpType","mid")):(c.disabled=!1,a.innerText="Mem ID",a.setAttribute("qcInpType","mid"))),queryDict[i].indexOf("cname")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Class Name",o.setAttribute("qcInpType","cname")):(c.disabled=!1,a.innerText="Class Name",a.setAttribute("qcInpType","cname"))),queryDict[i].indexOf("cid")>=0&&(r.disabled?(r.disabled=!1,o.innerText="Cobrand ID",o.setAttribute("qcInpType","cid")):(c.disabled=!1,a.innerText="Cobrand ID",a.setAttribute("qcInpType","cid")))}):e.indexOf("qc-cobrand-")>=0&&document.getElementById(e).addEventListener(t,function(t){var n=document.getElementById("qc-selected-cobrand");n.innerText=i,n.setAttribute("cobrandId",document.getElementById(e).getAttribute("cobrandId")),n.style.animation="shake 0.5s",setTimeout(function(){n.style.animation=""},500)})}document.addEventListener("DOMContentLoaded",function(){function e(e,t){switch(e.id){case"splunk-submit":var i,n,r,c,o=!1,a=new Array,d="",s="https://splunk.yodlee.com/en-US/app/gather_logs/gatherer_logs_summary_html?error_type=*&criteria=",m="&value=",l="&database=*&cobrand=*&server=*&gatherer=*&error_code=*&key=SERVER_TYPE&values=*&env=2&detailRoute=DAP&latency=*&form.error_tp=AGENT_ERROR&form.error_cd=*&&earliest=-",u="d%40d&latest=now&ear=-",I="d%40d&mfaType=MFA_GUID%3D*&form.agentType=JAVA&form.environment=developeryoshi.yodlee.com%3A8443&form.yoshi=DAP&form.doc_error=*";if(i=document.getElementById("sp-class").value,n=document.getElementById("sp-sii").value,r=document.getElementById("sp-site").value,c=document.getElementById("sp-duration").value,0!=i.length&&0!=c.length)if(o=!0,d="CLASS",i.split(",").length>1)for(var _=i.split(","),E=0;E<_.length;E++)0!=_[E].length&&y(d,_[E].trim());else y(d,i);if(0!=n.length&&0!=c.length)if(o=!0,d="SUM_INFO_ID",n.split(",").length>1)for(_=n.split(","),E=0;E<_.length;E++)0!=_[E].length&&y(d,_[E].trim());else y(d,n);if(0!=r.length&&0!=c.length)if(o=!0,d="SITE_ID",r.split(",").length>1)for(_=r.split(","),E=0;E<_.length;E++)0!=_[E].length&&y(d,_[E].trim());else y(d,r);function y(e,t){a.push(s.concat(e,m,t,l,c,u,c,I))}if(o)for(E=0;E<a.length;E++)chrome.tabs.create({url:a[E]},function(e){});else alert("Atleast one Entry is mandatory");break;case"firemem-submit":var f,T,A,p,b,g,D,v,S,C,h,q,M,R=new Array;if(f=document.getElementById("firemem-msa").value,T=document.getElementById("firemem-cii").value,A=document.getElementById("firemem-mii").value,p=document.getElementById("firemem-mfa").checked,b=document.getElementById("firemem-slmr").checked,g=document.getElementById("firemem-env").checked,D=document.getElementById("firemem-errorMsg"),q=document.getElementById("firemem-db").value,h=0==(M=document.getElementById("firemem-db-text").value).length?q:M,v=document.getElementById("firemem-plat").getAttribute("fClicked"),S=document.getElementById("firemem-dev").getAttribute("fClicked"),C=document.getElementById("firemem-prod").getAttribute("fClicked"),0==f.length&&0==T.length&&0==A.length){D.innerText="Item ID required",D.style.display="block",D.style.animation="shake 0.5s infinite";break}if("false"==v&&"false"==S&&"false"==C){D.innerText="Please select an Environment",D.style.display="block",D.style.animation="shake 0.5s infinite";break}if(0==h.length){D.innerText="Specify Database",D.style.display="block",D.style.animation="shake 0.5s infinite";break}D.style.display="none";var L="springapp/firemem?command=triggerFiremem&refreshTypeId=5&localeId=&isRefreshPref=false&isAdvPref=false&editSite=false&platformRouting=&locales=&routing=&requiredProfilePage=false&isTrigger401k=false&isStmtDownload=false&enableProfilePage=false&environment=DAP&";"true"==v&&B(f,T,A,p,b,g,"https://172.17.25.20:9843/",L,h),"true"==S&&B(f,T,A,p,b,g,"https://developeryoshi.yodlee.com:8443/",L,h),"true"==C&&B(f,T,A,p,b,g,"https://yoshiee.yodlee.com/",L,h);for(E=0;E<R.length;E++)chrome.tabs.executeScript(t.id,{code:R[E]});function B(e,t,i,n,r,c,o,a,d){var s=o+a;function m(e,t,i){if(0!=e.length)for(var n=e.split(","),r=0;r<n.length;r++){var c=i;c+="itemId="+n[r].trim()+"&","msa"==t?c+="itemIdType=mem_site_accnt&itemIdInput=mem_site_accnt":"cii"==t?c+="itemIdType=cache_item&itemIdInput=cache_item":"mii"==t&&(c+="itemIdType=mem_item&itemIdInput=mem_item");var o="\t\t\t\t\t\t\t\t\tvar wrapper = document.createElement('div');\t\t\t\t\t\t\t\t\twrapper.id = 'firememDiv';\t\t\t\t\t\t\t\t\twrapper.innerHTML = \"<form id='firememForm' target='_blank' action='"+c+"' method='post'><input type='hidden' name='thisIsTheParameterName' value='testDataToBePosted'/></form>\";\t\t\t\t\t\t\t\t\tdocument.body.appendChild(wrapper);\t\t\t\t\t\t\t\t\tdocument.getElementById('firememForm').submit();\t\t\t\t\t\t\t\t\tdocument.getElementById('firememDiv').remove();\t\t\t\t\t\t\t\t\t";R.push(o)}}s.indexOf("yoshiee.yodlee.com")>=0?s+="isMfaPage=true&":s+=n?"mfaVersion=V2&mfaVersionsCombo=V2&":"mfaVersion=V1&mfaVersionsCombo=V1&",s+=r?"isSiteAddAccountFlow=true&":"isSiteAddAccountFlow=false&",s+=c?"agentTypes=Json&agentType=Json&":"agentTypes=Java&agentType=Java&",m(e,"msa",s+="dbs="+d+"&prodDb="+d+"&"),m(t,"cii",s),m(i,"mii",s)}break;case"qc-submit":var N=document.getElementById("qc-selected-cobrand").getAttribute("cobrandid"),O=document.getElementById("qc-selected-query").getAttribute("querycode"),k=document.getElementById("qc-selected-query").innerText,P=queryDict[k].split(",").length,x=document.getElementById("qc-input-1"),U=document.getElementById("qc-input-2"),w=document.getElementById("qc-input-placeholder-1"),V=document.getElementById("qc-input-placeholder-2"),G=document.getElementById("qc-errorMsg");if(!x.disabled&&0==x.value.length&&"cii"!=V.getAttribute("qcinptype")||!U.disabled&&0==U.value.length&&"mii"!=w.getAttribute("qcinptype")){H("Provide Valid Inputs");break}var F="https://querycenter.yodlee.com/yadweb/querytool/querytool_result.action?";if(null==N){H("Select Cobrand");break}if(F+="cobrandId="+N,null==O){H("Select Query");break}if(F+="&queryCode="+O,"mii"==w.getAttribute("qcinptype")){if(0==x.value.length&&0==U.value.length){H("Provide Valid Inputs");break}if(e.innerText="Loading...",0==x.value.length&&"mii"==queryDict[k]){convertItem(U.value,"CACHE_ITEM_ID","https://querycenter.yodlee.com/yadweb/querytool/convertItem.action",N,x,U,k,F);break}if(0==U.value.length&&"cii"==queryDict[k]){convertItem(x.value,"MEM_ITEM_ID","https://querycenter.yodlee.com/yadweb/querytool/convertItem.action",N,x,U,k,F);break}}if(1!=P){H("This Query is not Supported");break}function H(e){G.innerText=e,G.style.display="block",G.style.animation="shake 0.5s",setTimeout(function(){G.style.display="none"},1500)}exeQuery(x,U,k,F);break;default:alert("Ask the developer to check this new button")}}console.clear(),chrome.storage.local.get("qcQueries",function(e){var t=e.qcQueries,i=document.getElementById("qcQuer");for(var n in t)i.innerHTML+="    \t\t\t<button id='qc-query-"+n+"' queryCode='"+t[n][1]+"' class='fashionableButton' style='margin:2px;'>"+t[n][0]+"</button><span class='hspace'></span>";for(var n in t)addListener("qc-query-"+n,"click",t[n][0]);document.getElementById("qc-query-0").click()}),chrome.storage.local.get("qcCobrands",function(e){var t=e.qcCobrands,i=document.getElementById("qcCob");for(var n in t)i.innerHTML+="    \t\t\t<button id='qc-cobrand-"+n+"' cobrandId='"+t[n][2]+"' dbName='"+t[n][1]+"' class='fashionableButton' style='margin:2px;'>"+t[n][0]+"</button><span class='hspace'></span>";for(var n in t)addListener("qc-cobrand-"+n,"click",t[n][0]+"_"+t[n][1]);document.getElementById("qc-cobrand-0").click(),selectEle=document.getElementById("firemem-db");for(var n in t){var r=t[n][1];"s"==r[r.length-1]&&(r=r.substr(0,r.length-1)+"1");var c=document.createElement("option");c.text=t[n][0]+"_"+r,c.value=r,selectEle.add(c,selectEle.options[n])}}),addListener("firememTab","mouseover","firemem"),addListener("qcTab","mouseover","qc"),addListener("splunkTab","mouseover","splunk"),addListener("firemem-plat","click","firemem-plat"),addListener("firemem-dev","click","firemem-dev"),addListener("firemem-prod","click","firemem-prod"),document.getElementById("splunk-submit").addEventListener("click",function(){chrome.tabs.getSelected(null,function(t){e(document.getElementById("splunk-submit"),t)})}),document.getElementById("firemem-submit").addEventListener("click",function(){chrome.tabs.getSelected(null,function(t){e(document.getElementById("firemem-submit"),t)})}),document.getElementById("qc-submit").addEventListener("click",function(){chrome.tabs.getSelected(null,function(t){e(document.getElementById("qc-submit"),t)})}),document.getElementById("feedback").addEventListener("click",function(){chrome.tabs.getSelected(null,function(e){var t="mailto:sdustakar@yodlee.com?subject=[iYodleeIAE v"+chrome.runtime.getManifest().version+"]&body=Hey Sathish,",i=window.open(t);setTimeout(function(){i.close()},1e3)})}),document.getElementById("about").addEventListener("click",function(){chrome.tabs.getSelected(null,function(e){window.open("http://sathishmun.comule.com/iYodleeIAE/About/options.html")})})},!1);var queryDict={ACCT_DEDUP_MID:"mid",ACCT_VERIFICATION_DATA:"cii",ALT_DISP_REQ:"cii",ALT_SETUP:"cii",ALT_TRIGGER:"cii",ALT_XML:"cii",BNK_ACCT:"cii",BNK_TRANS:"cii",BPAA_REQUEST:"none",BPS_PAYEE_DETAILS:"cii",CACHE_INFO_DETAILS:"cii",CACHE_INFO_MSA_DETAILS:"msa",CRD_ACCT:"cii",CRD_STMT_AND_BILL:"cii",CRD_TRANSACTIONS:"cii",DATA_SOURCE_COVERAGE:"cid",DOC_DOWNLOAD:"cii",DOC_DOWNLOAD_DET:"cii",DPT_DAILY_ACCOUNT:"mii",DPT_MONTHLY_ACCOUNT:"mii",DPT_WEEKLY_ACCOUNT:"mii",DUP_BANK:"cii",DUP_CARD:"cii",DUP_INVESTMENT:"cii",EBL_BILL_HISTORY:"cii",EBL_BILL_REVISION:"none",EBL_LATEST_BILL:"cii",EBL_PAYEE_ACCOUNT_DETAILS:"cii",EBL_PAYMENT_RULE_HISTORY:"none",EBL_SCHED_PAYMENT_WITH_LATEST_RULE:"none",EBL_SITE_PAYMENT_HISTORY:"cii",EBL_YODLEE_PAYMENTS:"none",EDG_COB_PARAM:"cid",EDG_REFRESH_WINDOW_SII:"sii",EDG_REF_WIN_CII:"cii",EDG_REF_WIN_COB_SII:"cid,sii",EDG_REF_WIN_COB_TAG:"none",EDG_REF_WIN_TAG:"none",IAV_DATA_REQUEST:"cii",IAV_PLUS:"cii",INS_ACCOUNTS:"cii",INS_STMT:"cii",INS_TRANS:"cii",INV_ACCTS:"cii",INV_BALANCE:"cii",INV_HOLDING:"cii",INV_OPTIONS:"cii",INV_TRANS:"cii",LOAN_STMT:"cii",LOM_ACCOUNTS:"cii",LOM_PAYOFF_DET:"cii",LOM_TRANSACTIONS:"cii",MESSAGE_STATUS_ID_DETAILS:"none",MII_DETAILS_IAI:"none",MTD_IS_MFA_ENBLD_COB:"cid",MTD_METAFIELD:"sii",MTD_NORM:"sii",MTD_NORM_CLASS:"cname",MTD_SECURITY_QUES:"sii",MTD_SII_ENBLD_DISBLD:"cid,sii",MTD_SITE:"sii",MTD_SPL_PRSNG:"sii",MTD_TXN_SEL_DURN:"sii","Mii to Cii conversion":"mii",PAM_CARD_DETAILS_MEM_ID:"mid",PAM_DIR_FOR_CII:"cii",PAM_DIR_TXN_ID:"none",PAM_FOR_CII:"cii",PAM_PAYEE_DET:"cii",PAM_SCHD_CII:"cii",PAM_SCHEDULED_PAYM:"none",PAM_TXN_ID:"none",REW_ACCOUNTS:"cii",REW_ACTIVITY:"cii",REW_BALANCE:"cii",SERVER_STATS_CII:"cii",SERVER_STATS_MSA:"msa",USR_AGGR_ACCT_CII:"cii",USR_AGGR_ACCT_EMAIL:"none",USR_AGGR_ACCT_MID:"mid",USR_AGGR_ACCT_MSA:"msa",USR_AGGR_ACCT_USERNAME:"none",USR_DETAILS_CII:"cii",USR_DETAILS_MSA:"msa",USR_LOGIN_TIME:"cii",USR_MFA_QUESTION_ANSWER:"cii",USR_MFA_QUESTION_ANSWER_MSA:"msa",USR_MID_DET_FName:"none",USR_MID_DET_LName:"none",USR_MID_DET_MName:"none",USR_PSWD_LAST_UPDATED_CII:"cii",USR_PSWD_LAST_UPDATED_MSA:"msa",USR_SUBRAND_DET_LOGIN_NAME:"none"},itemDict={msa:"MEM_SITE_ACC_ID",cii:"CACHE_ITEM_ID",mii:"MEM_ITEM_ID",sii:"SUM_INFO_ID",cid:"COBRAND_ID",mid:"MEM_D",cname:"CLASS_NAME"},isOpera=navigator.userAgent.indexOf("Opera")>-1,isIE=navigator.userAgent.indexOf("MSIE")>1&&!isOpera,isMoz=0==navigator.userAgent.indexOf("Mozilla/5.")&&!isOpera,req=null,conversionReq=null;function convertItem(e,t,i,n,r,c,o,a){if(null!=e&&""!=e)if(regIsDigit(e)){var d;if("CACHE_ITEM_ID"==t)d="C2M";else{if("MEM_ITEM_ID"!=t)return void alert("Invalid mode selected for conversion.");d="M2C"}convertedItemVal=postConversionRequest(i+"?mode="+d+"&cobrandId="+n+"&itemId="+e,r,c,o,a)}else alert("Provided CacheItemID/MemItemID is not a number. Input Value: "+e+"\nPlease provide the ItemId to be converted in the adjacent input box and then click on conversion link.");else alert("Please provide the ItemId to be converted in the adjacent input box and then click on conversion link.")}function postConversionRequest(e,t,i,n,r){window.XMLHttpRequest?conversionReq=new XMLHttpRequest:window.ActiveXObject&&(conversionReq=new ActiveXObject("Microsoft.XMLHTTP")),conversionReq.onreadystatechange=function(){processConversionRequest(t,i,n,r)},conversionReq.open("GET",e,!0),conversionReq.send(null)}function processConversionRequest(e,t,i,n){4==conversionReq.readyState&&(200==conversionReq.status?parseConversionResponse(e,t,i,n):alert("Not able to convert the item. Please try again"))}function parseConversionResponse(e,t,i,n){var r,c="MemItemId";if(null==conversionReq.responseXML)return alert("QC Logged out, try again"),void chrome.tabs.create({url:"https://querycenter.yodlee.com/yadweb//querytool/querytool_input.action"},function(e){});"M2C"==(isIE?conversionReq.responseXML.getElementsByTagName("ConversionMode")[0].firstChild.nodeValue:conversionReq.responseXML.getElementsByTagName("ConversionMode")[0].textContent)&&(c="CacheItemId"),r=isIE?conversionReq.responseXML.getElementsByTagName(c)[0].firstChild.nodeValue:conversionReq.responseXML.getElementsByTagName(c)[0].textContent,"CacheItemId"==c?t.value=r:e.value=r,exeQuery(e,t,i,n)}function regIsDigit(e){return/(^-?\d\d*$)/.test(e)}function exeQuery(e,t,i,n){"cii"==queryDict[i]?n+="&queryParamValue0="+t.value:n+="&queryParamValue0="+e.value,n+="&queryParamName0="+itemDict[queryDict[i]],n+="&numParams=1&downloadRequired=download",chrome.tabs.create({url:n},function(e){})}